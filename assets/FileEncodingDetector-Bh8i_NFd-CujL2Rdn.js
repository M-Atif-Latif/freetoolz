import{a as e,z as t,ak as r,m as a}from"./index-CNP3PE3X.js";function s(){const[s,d]=e.useState(""),[l,n]=e.useState(""),[i,c]=e.useState(""),[o,x]=e.useState([]),g=e=>{const t=(new TextEncoder).encode(e),r=[];let a="UTF-8";if(t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]?(a="UTF-8 with BOM",r.push("✓ UTF-8 BOM detected (EF BB BF)")):t.length>=2&&254===t[0]&&255===t[1]?(a="UTF-16 BE",r.push("✓ UTF-16 Big Endian BOM detected (FE FF)")):t.length>=2&&255===t[0]&&254===t[1]&&(a="UTF-16 LE",r.push("✓ UTF-16 Little Endian BOM detected (FF FE)")),t.every(e=>e<128)&&(a="ASCII",r.push("✓ All characters are ASCII (0-127)")),t.some(e=>e>=128&&e<256)){r.push("✓ Contains extended ASCII/UTF-8 characters (128-255)");let e=!0;for(let r=0;r<t.length;r++)if(t[r]>127)if(192==(224&t[r])){if(r+1>=t.length||128!=(192&t[r+1])){e=!1;break}r+=1}else if(224==(240&t[r])){if(r+2>=t.length||128!=(192&t[r+1])||128!=(192&t[r+2])){e=!1;break}r+=2}e&&(a="UTF-8",r.push("✓ Valid UTF-8 encoding detected"))}r.push(`Total bytes: ${t.length}`),r.push(`Total characters: ${e.length}`);const s=new Set(e).size;r.push(`Unique characters: ${s}`);const d=e.includes("\r\n"),l=e.includes("\n"),n=e.includes("\r");d?r.push("Line endings: CRLF (Windows)"):l?r.push("Line endings: LF (Unix/Mac)"):n&&r.push("Line endings: CR (Old Mac)"),c(a),x(r)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-cyan-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 py-12 px-4",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-2xl mb-4 shadow-lg",children:t.jsx(r,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"File Encoding Detector"}),t.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Detect character encoding of text files (UTF-8, ASCII, UTF-16, etc.)"})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-600 px-6 py-4",children:t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Input Text or Upload File"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-4",children:t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-6 bg-gray-50 dark:bg-gray-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-all",children:[t.jsx(a,{className:"h-6 w-6 text-gray-500 dark:text-gray-400 mr-2"}),t.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l||"Click to upload file"}),t.jsx("input",{type:"file",accept:".txt,.csv,.json,.xml,.html,.css,.js,.md",onChange:e=>{const t=e.target.files?.[0];if(!t)return;n(t.name);const r=new FileReader;r.onload=e=>{const t=e.target?.result;d(t.substring(0,1e4)),g(t)},r.readAsText(t)},className:"hidden"})]})}),t.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm mb-4",children:"OR"}),t.jsx("textarea",{value:s,onChange:e=>d(e.target.value),placeholder:"Paste your text here to detect encoding...",className:"w-full h-64 px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm resize-none"}),t.jsxs("button",{onClick:()=>g(s),disabled:!s,className:"w-full mt-4 px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(r,{className:"inline h-5 w-5 mr-2"}),"Detect Encoding"]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 px-6 py-4",children:t.jsx("h2",{className:"text-lg font-semibold text-white",children:"Detection Results"})}),t.jsx("div",{className:"p-6",children:i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border-2 border-green-200 dark:border-green-800 mb-6",children:[t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Detected Encoding:"}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Details:"}),o.map((e,r)=>t.jsx("div",{className:"flex items-start p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:t.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})},r))]})]}):t.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-12",children:"Upload a file or paste text to detect encoding"})})]})]}),t.jsxs("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"Common Encodings"}),t.jsxs("ul",{className:"grid md:grid-cols-2 gap-2 text-gray-700 dark:text-gray-300 text-sm",children:[t.jsxs("li",{children:["• ",t.jsx("strong",{children:"ASCII:"})," 7-bit encoding (0-127)"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"UTF-8:"})," Universal, variable-width (1-4 bytes)"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"UTF-16:"})," Fixed 2 or 4 bytes per character"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"ISO-8859-1:"})," Latin-1, Western European"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"Windows-1252:"})," Extended Latin alphabet"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"BOM:"})," Byte Order Mark at file start"]})]})]})]})})}export{s as default};
