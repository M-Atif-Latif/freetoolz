import{a as e,z as s,t as r,af as a,ag as t,ah as l}from"./index-CNP3PE3X.js";function d(){const[d,i]=e.useState(""),[o,n]=e.useState(!1),[x,c]=e.useState(null),g=async()=>{if(d.trim()){n(!0),c(null);try{const e=d.startsWith("http")?d:`https://${d}`,s=await fetch(e,{method:"OPTIONS",headers:{Origin:window.location.origin}}),r=s.headers.get("Access-Control-Allow-Origin"),a=s.headers.get("Access-Control-Allow-Methods"),t=s.headers.get("Access-Control-Allow-Headers"),l=s.headers.get("Access-Control-Allow-Credentials"),i=s.headers.get("Access-Control-Expose-Headers"),o=s.headers.get("Access-Control-Max-Age");c({url:e,hasAccessControlAllowOrigin:!!r,allowOrigin:r||void 0,allowMethods:a||void 0,allowHeaders:t||void 0,allowCredentials:l||void 0,exposeHeaders:i||void 0,maxAge:o||void 0})}catch(e){c({url:d.startsWith("http")?d:`https://${d}`,hasAccessControlAllowOrigin:!1,error:e instanceof Error?e.message:"CORS check failed - the server may not support CORS or is blocking requests"})}finally{n(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl mb-4 shadow-lg",children:s.jsx(r,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"CORS Header Checker"}),s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Check Cross-Origin Resource Sharing (CORS) headers for any URL"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4",children:s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Test URL for CORS"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("input",{type:"text",value:d,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&g(),placeholder:"https://api.example.com/endpoint",className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("button",{onClick:g,disabled:o||!d.trim(),className:"px-8 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-lg hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(a,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Checking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(r,{className:"h-5 w-5"}),s.jsx("span",{children:"Check CORS"})]})})]}),s.jsx("div",{className:"mt-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["ðŸ’¡ ",s.jsx("strong",{children:"Tip:"})," This tool sends an OPTIONS preflight request to check CORS headers. Some servers may block these requests."]})})]})]}),x&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:`bg-gradient-to-r ${x.hasAccessControlAllowOrigin?"from-green-500 to-emerald-600":"from-red-500 to-pink-600"} px-6 py-4`,children:s.jsx("h2",{className:"text-lg font-semibold text-white",children:"CORS Status"})}),s.jsx("div",{className:"p-8 text-center",children:x.hasAccessControlAllowOrigin?s.jsxs(s.Fragment,{children:[s.jsx(t,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"CORS Enabled âœ“"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This endpoint has CORS headers configured"})]}):s.jsxs(s.Fragment,{children:[s.jsx(l,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"CORS Not Detected"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No CORS headers found or request blocked"})]})})]}),!x.error&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 px-6 py-4",children:s.jsx("h2",{className:"text-lg font-semibold text-white",children:"CORS Headers"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Access-Control-Allow-Origin"}),s.jsx("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:x.allowOrigin||"Not set"})]}),x.allowOrigin?s.jsx(t,{className:"h-5 w-5 text-green-500 ml-2"}):s.jsx(l,{className:"h-5 w-5 text-red-500 ml-2"})]}),s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Access-Control-Allow-Methods"}),s.jsx("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:x.allowMethods||"Not set"})]}),x.allowMethods?s.jsx(t,{className:"h-5 w-5 text-green-500 ml-2"}):s.jsx(l,{className:"h-5 w-5 text-gray-400 ml-2"})]}),s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Access-Control-Allow-Headers"}),s.jsx("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:x.allowHeaders||"Not set"})]}),x.allowHeaders?s.jsx(t,{className:"h-5 w-5 text-green-500 ml-2"}):s.jsx(l,{className:"h-5 w-5 text-gray-400 ml-2"})]}),s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Access-Control-Allow-Credentials"}),s.jsx("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:x.allowCredentials||"Not set"})]}),x.allowCredentials?s.jsx(t,{className:"h-5 w-5 text-green-500 ml-2"}):s.jsx(l,{className:"h-5 w-5 text-gray-400 ml-2"})]}),x.exposeHeaders&&s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Access-Control-Expose-Headers"}),s.jsx("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:x.exposeHeaders})]}),s.jsx(t,{className:"h-5 w-5 text-green-500 ml-2"})]}),x.maxAge&&s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Access-Control-Max-Age"}),s.jsxs("div",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:[x.maxAge," seconds"]})]}),s.jsx(t,{className:"h-5 w-5 text-green-500 ml-2"})]})]})})]}),x.error&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[s.jsx("h3",{className:"text-lg font-bold text-red-900 dark:text-red-400 mb-2",children:"Error"}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:x.error})]})]}),s.jsxs("div",{className:"mt-8 bg-purple-50 dark:bg-purple-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"About CORS"}),s.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300 text-sm",children:[s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"CORS"})," allows servers to specify who can access their resources"]}),s.jsx("li",{children:"â€¢ Required for browser-based apps making cross-origin requests"}),s.jsxs("li",{children:["â€¢ ",s.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"Access-Control-Allow-Origin: *"})," allows all origins"]}),s.jsx("li",{children:"â€¢ Use specific origins for better security in production"})]})]})]})})}export{d as default};
