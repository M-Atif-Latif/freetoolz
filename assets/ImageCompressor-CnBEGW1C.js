import{j as e}from"./index-CvKdTCVf.js";import{r as s}from"./react-vendor-Chx_2L41.js";import{p as t,D as a}from"./icons-vendor-BDtFCb1E.js";function l(){const[l,r]=s.useState(null),[n,i]=s.useState(""),[o,d]=s.useState(80),[c,m]=s.useState(""),[x,g]=s.useState(0),[h,u]=s.useState(0);return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Image Compressor"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Reduce image file size while maintaining quality"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(t,{className:"w-12 h-12 mb-4 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, WEBP"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t){r(t),g(t.size);const e=new FileReader;e.onloadend=()=>i(e.result),e.readAsDataURL(t)}},className:"hidden"})]})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:n,alt:"Preview",className:"max-h-64 mx-auto rounded-lg"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Quality: ",o,"%"]}),e.jsx("input",{type:"range",min:"10",max:"100",value:o,onChange:e=>d(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),e.jsx("button",{onClick:()=>{if(!n)return;const e=document.createElement("canvas"),s=new Image;s.onload=()=>{e.width=s.width,e.height=s.height;const t=e.getContext("2d");null==t||t.drawImage(s,0,0),e.toBlob(e=>{if(e){u(e.size);const s=URL.createObjectURL(e);m(s)}},"image/jpeg",o/100)},s.src=n},className:"w-full px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg shadow-lg mb-4",children:"Compress Image"}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Original"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[(x/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Compressed"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(h/1024).toFixed(2)," KB"]})]})]}),e.jsxs("button",{onClick:()=>{if(!c)return;const e=document.createElement("a");e.href=c,e.download=(null==l?void 0:l.name.replace(/\.[^/.]+$/,""))+"-compressed.jpg"||"compressed.jpg",e.click()},className:"w-full px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx("span",{children:"Download Compressed Image"})]})]})]})]})]})}export{l as default};
